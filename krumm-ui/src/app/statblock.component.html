<div class="statblock-wrapper">
  <div class="bar"></div>
  <div *ngIf="creep" id="content-wrap">
    <p class="creep-name">{{creep.name}}</p>
    <p class="creep-type">
      {{creep.size}} {{creep.type}}<span *ngIf="creep.subtype"> ({{creep.subtype}})</span>, {{creep.alignment}}
    </p>
    <svg class="creep-divider" height="5" width="400">
        <polyline points="0,0 400,2.5 0,5"/>
    </svg>
    <div>
      <h4>Armor Class</h4>
      <span>{{creep.armor_class}}</span>
    </div>
    <div>
      <h4>Hit Points</h4>
      <span>{{creep.hit_points}}</span>
      <span> ({{creep.hit_dice}})</span>
    </div>
    <div>
      <h4>Speed</h4>
      <span>{{creep.speed}}</span>
    </div>
    <svg class="creep-divider" height="5" width="400">
        <polyline points="0,0 400,2.5 0,5"/>
    </svg>
    <table>
      <tbody>
        <tr>
          <th *ngFor="let statName of getStatNames()">{{statName}}</th>
        </tr>
        <tr>
          <td *ngFor="let stat of getStats()" class="creep-stat-val">{{stat}}</td>
        </tr>
      </tbody>
    </table>
    <svg class="creep-divider" height="5" width="400">
        <polyline points="0,0 400,2.5 0,5"/>
    </svg>
    <div>
      <h4>Saving Throws</h4>
      <span *ngFor="let save of getSaves(); let isLast = last">
        {{save.name}} {{save.val}}<span *ngIf="!isLast">,</span>
      </span>
    </div>
    <div>
      <h4>Skills</h4>
      <span *ngFor="let skill of getSkills(); let isLast = last">
        {{skill.name}} {{skill.val}}<span *ngIf="!isLast">,</span>
      </span>
    </div>
    <div *ngIf="creep.senses">
      <h4>Senses</h4>
      <span>{{creep.senses}}</span>
    </div>
    <div>
      <h4>Languages</h4>
      <span *ngIf="creep.languages;else elseBlock">{{creep.languages}}</span>
      <ng-template #elseBlock>-</ng-template>
    </div>
    <div *ngIf="creep.challenge_rating">
      <h4>Challenge</h4>
      <span>{{creep.challenge_rating}}</span>
    </div>
    <svg class="creep-divider" height="5" width="400">
        <polyline points="0,0 400,2.5 0,5"/>
    </svg>

    <div id="abilities-and-actions">

      <div class="action-block" *ngFor="let ability of creep.special_abilities">
        <h4>{{ability.name}}</h4>
        <span>{{ability.desc}}</span>
      </div>

      <div *ngIf="creep.actions.length > 0">
        <h3>Actions</h3>
        <div>
          <div class="action-block" *ngFor="let action of creep.actions">
            <h4>{{action.name}}</h4>
            <span>{{action.desc}}</span>
          </div>
        </div>
      </div>

      <div *ngIf="creep.reactions.length > 0">
        <h3>Reactions</h3>
        <div class="action-block" *ngFor="let action of creep.reactions">
          <h4>{{action.name}}</h4>
          <span>{{action.desc}}</span>
        </div>
      </div>

      <div *ngIf="creep.legendary_actions.length > 0">
        <h3>Legendary Actions</h3>
        <div *ngFor="let action of creep.legendary_actions">
          <h4>{{action.name}}</h4>
          <span>{{action.desc}}</span>
        </div>
      </div>

    </div>
  </div>
  <div class="bar"></div>
</div>